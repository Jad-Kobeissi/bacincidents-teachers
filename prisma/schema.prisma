generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Admin {
  id         Int        @id @default(autoincrement())
  identifier String     @unique
  Incidents  Incident[]
}

model Incident {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  category    Category
  childId     Int
  occurredAt  DateTime
  severity    Severity
  adminId     Int
  Admin       Admin    @relation(fields: [adminId], references: [id])
  Child       child    @relation(fields: [childId], references: [id])
}

model Parent {
  id    Int     @id @default(autoincrement())
  name  String
  email String  @unique
  child child[]
}

model child {
  id       Int        @id @default(autoincrement())
  name     String
  grade    String
  parentId Int
  Incident Incident[]
  Parent   Parent     @relation(fields: [parentId], references: [id])
}

enum Category {
  Warning
  Information
  Urgent
  Positive
}
enum Severity {
  Low
  Medium
  High
}